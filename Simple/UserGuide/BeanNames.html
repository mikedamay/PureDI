<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />    
    <title>Some Title</title>
    <link type="text/png" rel="icon" href="/glyphicons_free/glyphicons/png/glyphicons-30-notes-2.png" />
    <link type="text/css" href="/Simple/Content/bootstrap-3.3.7/css/bootstrap.css" rel="stylesheet"/>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-sm-1"></div>
        <div class="col-sm-10">
            <h3 class="col-sm-10" style="color: blue">Bean Names and Multiple Implementations</h3>
            <!--<hr class="col-xs-12"/>-->
        </div>
        <div class="col-sm-1"></div>
    </div>
    <div class="row">
        <div class="col-sm-1"></div>
        <div class="col-sm-10">
            <p>Bean names address the case where there are multiple implementations of
some interface and a bean reference needs to specify which implementation is required.
This is achieved by passing a <code>Name</code> property to the <code>[BeanReference]</code> attribute.</p>
<p>The following code (BeanNames.cs) illustrates this:</p>
<div class="pre-scrollable">
<pre><code>using com.TheDisappointedProgrammer.IOCC;

[Bean]
public class DuplicateBean
{
  [BeanReference] private IRepository mainDB = null;
  [BeanReference(Name = &quot;mongo&quot;)] private IRepository mongoDB = null;

  public static void Main()
  {
      var beans = new SimpleIOCContainer().CreateAndInjectDependencies&lt;DuplicateBean&gt;();
      beans.ListDatabases();
  }
  private void ListDatabases()
  {
      System.Console.WriteLine($&quot;our main database is {mainDB.Id}&quot;);
      // this will display &quot;SqlServerDB&quot;
      System.Console.WriteLine($&quot;our document database is {mongoDB.Id}&quot;);
      // this will display &quot;magnificent mongo&quot;&quot;
  }
}

internal interface IRepository
{
  string Id { get; }
}
[Bean]
internal class SqlServerDB : IRepository
{
  public string Id =&gt; &quot;SqlServerDB&quot;;
}

[Bean(Name = &quot;Mongo&quot;)]
internal class MongoDB : IRepository
{
  public string Id =&gt; &quot;magnificent mongo&quot;;
}

</code></pre>
</div>
<p>Note:</p>
<ul>
<li>The bean reference can specify an interface (or a base class as long as it is
not itself a bean) as an alternative to specifiying
the implementation class.  It is left up to the
container to associate the reference with a concrete class.</li>
<li>In the above example two repositories are instantiated; one for sql server
and one for Mongo.  They both have share an interface but the container
uses the name specified in the bean reference to select the appropriate
implementation.</li>
<li>If no name is spacified then this is equivalent to an empty string.  Unlike the case with
<em>Profiles</em> if no bean is found with a name matching that of the bean reference
then the bean instantiation will fail.</li>
<li>Bean names are case insensitive.</li>
</ul>

        </div>
        <div class="col-sm-1"></div>
    </div>
</div>
</body>
</html>